let ArrProduct = [
    {
      nameSP: "LEVENTS® | DORAEMON FAMOUS CAT TEE",
      img: "../img/products/p1-1.png",
      price: 370000,
      count : 3,
      nametag: "aothun#",  
      nameColor1: "XÁM",
      nameColor2: "ĐỎ",
      nameColor3:"",    
      colorr1: "gray",
      colorr2: "red",
      colorr3: "unset",
      img1: "./img/products/p1-1.png",
      img2: "./img/products/p1-2.jpg",
      img3: "./img/products/p1-2.jpg",
    },
    {
      nameSP: "LEVENTS® | DORAEMON COLLAB TEE",
      img: "../img/products/p2-1.png",
      price: 450000,
      count: 7,
      nametag: "aothun#",   
      nameColor1: "TRẮNG",
      nameColor2: "ĐEN",
      nameColor3:"",       
      colorr1: " rgb(235, 232, 226)",
      colorr2: "black",
      colorr3: "unset",
      img1: "./img/products/p2-1.png",
      img2: "./img/products/p2-2.png",
      img3: "./img/products/p2-2.png",
    },
    {
      nameSP: "LEVENTS® DINOSAUR TEE",
      img: "../img/products/p3-1.jpg",
      price: 420000,
      count: 5,
      nametag: "aothun#",  
      nameColor1: "TRẮNG",
      nameColor2: "ĐEN",
      nameColor3:"XANH DƯƠNG",        
      colorr1: " rgb(235, 232, 226)",
      colorr2: "black",
      colorr3: "blue",
      img1: "./img/products/p3-1.jpg",
      img2: "./img/products/p3-2.jpg",
      img3: "./img/products/p3-3.jpg",
    },
    {
      nameSP: "LEVENTS® INSIDE OUT TEE",
      img: "../img/products/p4-1.jpg",
      price: 390000,
      count: 0,
      nametag: "aothun#", 
      nameColor1: "TRẮNG",
      nameColor2: "ĐEN",
      nameColor3:"",    
      colorr1: " rgb(235, 232, 226)",
      colorr2: "black",
      colorr3: "unset",
      img1: "./img/products/p4-1.jpg",
      img2: "./img/products/p4-2.jpg",
      img3: "./img/products/p4-2.jpg",
    },
    {
      nameSP: "LEVENTS® LOVEYOU300K SPECIAL TEE",
      img: "../img/products/p5-1.jpg",
      price: 300000,
      count: 2,
      nametag: "aothun#",   
      nameColor1: "TRẮNG",
      nameColor2: "",
      nameColor3:"",      
      colorr1: " rgb(235, 232, 226)",
      colorr2: "unset",
      colorr3: "unset",
      img1: "./img/products/p5-1.jpg",
      img2: "./img/products/p5-1.jpg",
      img3: "./img/products/p5-1.jpg",
    },
    {
      nameSP: "LEVENTS® FUNNY CROCODILE TEE",
      img: "../img/products/p6-1.jpg",
      price: 390000,
      count: 1,
      nametag: "aothun#",     
      nameColor1: "XANH DƯƠNG",
      nameColor2: "ĐEN",
      nameColor3:"",     
      colorr1: "blue",
      colorr2: "black",
      colorr3: "unset",
      img1: "./img/products/p6-1.jpg",
      img2: "./img/products/p6.jpg",
      img3: "./img/products/p6-2.jpg",
    },
    {
      nameSP: "LEVENTS® PUNCH VARSITY",
      img: "../img/products/p7-1.jpg",
      price: 890000,
      count: 11,
      nametag: "aokhoac#",      
      nameColor1: "NÂU",
      nameColor2: "ĐEN",
      nameColor3:"",    
      colorr1: "brown",
      colorr2: "black",
      colorr3: "unset",
      img1: "./img/products/p7-1.jpg",
      img2: "./img/products/p7-2.jpg",
      img3: "./img/products/p7-2.jpg",
    },
    {
      nameSP: "LEVENTS® SELFLOVE BOXY TEE",
      img: "../img/products/p8-1.jpg",
      price: 380000,
      count: 10,
      nametag: "aothun#",      
      nameColor1: "TRẮNG",
      nameColor2: "ĐEN",
      nameColor3:"",    
      colorr1: " rgb(235, 232, 226)",
      colorr2: "black",
      colorr3: "unset",
      img1: "./img/products/p8-1.jpg",
      img2: "./img/products/p8-2.jpg",
      img3: "./img/products/p8-1.jpg",
    },
    {
      nameSP: "LEVENTS® | DORAEMON MINI CAT Polo",
      img: "../img/products/p9-1.jpg",
      price: 405000,
      count: 9,
      nametag: "polo#",
      nameColor1: "TRẮNG",
      nameColor2: "ĐEN",
      nameColor3:"",    
      colorr1: " rgb(235, 232, 226)",
      colorr2: "black",
      colorr3: "unset",
      img1: "./img/products/p9-1.jpg",
      img2: "./img/products/p9-2.jpg",
      img3: "./img/products/p9-2.jpg",
    },
    {
      nameSP: "LEVENTS® MINI POPULAR Polo",
      img: "../img/products/p10-1.jpg",
      price: 370000,
      count: 6,
      nametag: "polo#",
      nameColor1: "TRẮNG",
      nameColor2: "ĐEN",
      nameColor3:"",     
      colorr1: " rgb(235, 232, 226)",
      colorr2: "black",
      colorr3: "unset",
      img1: "./img/products/p10-1.jpg",
      img2: "./img/products/p10-2.jpg",
      img3: "./img/products/p10-2.jpg",
    },
    {
      nameSP: "LEVENTS® STRIPE Polo",
      img: "../img/products/p11-1.jpg",
      price: 420000,
      count: 2,
      nametag: "polo#", 
      nameColor1: "TRẮNG",
      nameColor2: "ĐEN",
      nameColor3:"",    
      colorr1: " rgb(235, 232, 226)",
      colorr2: "black",
      colorr3: "unset",
      img1: "./img/products/p11-1.jpg",
      img2: "./img/products/p11-2.jpg",
      img3: "./img/products/p11-2.jpg",
    },
    {
      nameSP: "LEVENTS® CINEMA SHIRT",
      img: "../img/products/p12-1.jpg",
      price: 420000,
      count: 3,
      nametag: "somi#",
      nameColor1: "NÂU",
      nameColor2: "ĐEN",
      nameColor3:"",     
      colorr1: "brown",
      colorr2: "black",
      colorr3: "unset",
      img1: "./img/products/p12-1.jpg",
      img2: "./img/products/p12-2.jpg",
      img3: "./img/products/p12-2.jpg",
    },
    {
      nameSP: "LEVENTS® CITIES SHIRT",
      img: "../img/products/p13-1.jpg",
      price: 420000,
      count: 8,
      nametag: "somi#",
      nameColor1: "TRẮNG",
      nameColor2: "ĐEN",
      nameColor3:"",     
      colorr1: " rgb(235, 232, 226)",
      colorr2: "black",
      colorr3: "unset",
      img1: "./img/products/p13-1.jpg",
      img2: "./img/products/p13-2.jpg",
      img3: "./img/products/p13-2.jpg",
    },
    {
      nameSP: "LEVENTS® | DORAEMON COLLAB ZIPPER Hoodie",
      img: "../img/products/p14-1.jpg",
      price: 645000,
      count: 5,
      nametag: "hoodie#",
      nameColor1: "TRẮNG",
      nameColor2: "XÁM",
      nameColor3:"",    
      colorr1: " rgb(235, 232, 226)",
      colorr2: "gray",
      colorr3: "unset",
      img1: "./img/products/p14-1.jpg",
      img2: "./img/products/p14-2.jpg",
      img3: "./img/products/p14-2.jpg",
    },
    {
      nameSP: "LEVENTS® POPULAR LOGO 2.0 Hoodie",
      img: "../img/products/p15-1.jpg",
      price: 590000,
      count: 4,
      nametag: "hoodie#",
      nameColor1: "VÀNG",
      nameColor2: "XÁM",
      nameColor3:"ĐEN",    
      colorr1: "yellow",
      colorr2: "gray",
      colorr3: "black",
      img1: "./img/products/p15-1.jpg",
      img2: "./img/products/p15-2.jpg",
      img3: "./img/products/p15-3.jpg",
    },
    {
      nameSP: "LEVENTS® MINI LOGO ZIPPER Hoodie",
      img: "../img/products/p16-1.jpg",
      price: 620000,
      count: 2,
      nametag: "hoodie#",
      nameColor1: "TRẮNG",
      nameColor2: "XÁM",
      nameColor3:"",    
      colorr1: " rgb(235, 232, 226)",
      colorr2: "gray",
      colorr3: "unset",
      img1: "./img/products/p16-1.jpg",
      img2: "./img/products/p16-2.jpg",
      img3: "./img/products/p16-2.jpg",
    },
    {
      nameSP: "LEVENTS® | DORAEMON COLLAB Hoodie",
      img: "../img/products/p17-1.jpg",
      price: 620000,
      count: 9,
      nametag: "hoodie#",
      nameColor1: "TRẮNG",
      nameColor2: "ĐEN",
      nameColor3:"",    
      colorr1: " rgb(235, 232, 226)",
      colorr2: "black",
      colorr3: "unset",
      img1: "./img/products/p17-1.jpg",
      img2: "./img/products/p17-2.jpg",
      img3: "./img/products/p17-2.jpg",
    },
    {
      nameSP: "LEVENTS® BASIC Sweater",
      img: "../img/products/p18-1.jpg",
      price: 490000,
      count: 6,
      nametag: "sweater#",
      nameColor1: "XÁM",
      nameColor2: "ĐỎ",
      nameColor3:"",    
      colorr1: "gray",
      colorr2: "red",
      colorr3: "unset",
      img1: "./img/products/p18-1.jpg",
      img2: "./img/products/p18-2.jpg",
      img3: "./img/products/p18-2.jpg",
    },
    {
      nameSP: "LEVENTS® FUNNY CROCODILE Sweater",
      img: "../img/products/p19-1.jpg",
      price: 490000,
      count: 12,
      nametag: "sweater#",
      nameColor1: "NÂU",
      nameColor2: "ĐEN",
      nameColor3:"",    
      colorr1: "brown",
      colorr2: "black",
      colorr3: "unset",
      img1: "./img/products/p19-1.jpg",
      img2: "./img/products/p19-2.jpg",
      img3: "./img/products/p19-2.jpg",
    },
  ];
  let typeproducts = [
    { typeid: "aothun#", typename: "Áo thun" },
    { typeid: "polo#", typename: "Polo" },
    { typeid: "somi#", typename: "Sơ mi" },
    { typeid: "hoodie#", typename: "Hoodie" },
    { typeid: "sweater#", typename: "Sweater" },
    { typeid: "aokhoac#", typename: "Áo khoác" },
  ];


// Hàm tạo id SP
function makeIDproduct() {
  for (let i = 0; i < ArrProduct.length; i++) {
    ArrProduct[i].idproduct = ArrProduct[i].nametag + (i + 1);
  }
}

//----------------sp-------------------------
// Hàm xác định trạng thái sản phẩm
function productSatus() {
  ArrProduct.forEach(i => {
    let status = 'C.XÁC ĐỊNH';
    let colorStatus = '#000';
    if (i.count > 10) {
      status = 'CÒN HÀNG';
      colorStatus = '#32CD32';
    } else if (i.count == 0) {
      status = 'HẾT HÀNG';
      colorStatus = '#EE4B2B';
    } else if (i.count <= 10) {
      status = 'SẮP HẾT';
      colorStatus = '#FDDA0D';
    }
    i.status = status;
    i.colorStatus = colorStatus;
  });
}

// Hàm tạo danh sách sản phẩm
function listSP(arr) {
  let s = '';
  makeIDproduct();
  productSatus();
  arr.forEach(product => {
    s += `
            <div class="list">
                <span class="idProduct">${product.idproduct}</span>
                <img src="${product.img}" class="imgProduct" alt="Ảnh">
                <span class="nameProduct">${product.nameSP}</span>
                <span class="colorProduct">${product.nameColor1}</span>
                <span class="countProduct">${product.count}</span>
                <span class="priceProduct">${product.price}</span>
                <span class="statusProduct" style="color:${product.colorStatus}">${product.status}</span>
            </div>
    `;
  });
  return s;
}
// Hàm đếm số lượng sản phẩm
function countProduct(arr) {
  return arr.length;
}
// Hàm tìm kiếm sản phẩm
function searchSP(){
  const comboType = document.getElementById('comboType').value;
  const comboStatus = document.getElementById('comboStatus').value;
  let filteredProducts = ArrProduct;
  if (comboType !== "0") {
    filteredProducts = filteredProducts.filter(product => product.nametag === comboType);
  }
  if (comboStatus !== "0") {
    filteredProducts = filteredProducts.filter(product => {
      if (comboStatus === "1") return product.status === "CÒN HÀNG";
      if (comboStatus === "2") return product.status === "SẮP HẾT";
      if (comboStatus === "3") return product.status === "HẾT HÀNG";
    });
  }
  document.querySelector('#storage-body').innerHTML= listSP(filteredProducts);
  document.querySelector('#amountOfProduct').innerText= countProduct(filteredProducts);
}
// -------------------------------------------------------------------
document.addEventListener("DOMContentLoaded", () => {
    const QLTK = document.querySelector('.b1');
    const QLDH = document.querySelector('.b2');
    const QLSP = document.querySelector('.b3');
    const QLND = document.querySelector('.b4');
  
    QLTK.addEventListener('click', () => {
      QLTK.classList.add('act');
      QLDH.classList.remove('act');
      QLSP.classList.remove('act');
      QLND.classList.remove('act');
    });
  
    QLDH.addEventListener('click', () => {
      QLTK.classList.remove('act');
      QLDH.classList.add('act');
      QLSP.classList.remove('act');
      QLND.classList.remove('act');
    });
    
    //sp
    QLSP.addEventListener('click', () => {
      QLTK.classList.remove('act');
      QLDH.classList.remove('act');
      QLSP.classList.add('act');
      QLND.classList.remove('act');
      let s = '';
      s += `<div class="qlsp">
                <div class="title"><h1>QUẢN LÝ SẢN PHẨM</h1></div>
                <div class="btnAdd"><div class="circle"><i class="fa-solid fa-plus"></i></div></div>
                <div class="groupOption">
                        <select name="" class="box" id="comboType" onchange="searchSP()" >
                            <option value="0">Tất cả</option>
                            <option value="aothun#">Áo thun</option>
                            <option value="polo#">Polo</option>
                            <option value="somi#">Sơ mi</option>
                            <option value="hoodie#">Hoodie</option>
                            <option value="sweater#">Sweater</option>
                            <option value="aokhoac#">Áo khoác</option>
                        </select>
                        <select name="" class="box" id="comboStatus" onchange="searchSP()" >
                            <option value="0">Tất cả</option>
                            <option value="1">CÒN HÀNG</option>
                            <option value="2">SẮP HẾT</option>
                            <option value="3">HẾT HÀNG</option>
                        </select>
                        <div class="box">
                            <div class="contentBox">
                                <div class="leftBox">
                                    <h2 id="amountOfProduct">0</h2>
                                    <span>SẢN PHẨM</span>
                                </div>
                                <i class="fa-solid fa-star"></i>
                            </div>
                        </div>
                </div>
                <div class="titleCol">
                    <span style="margin-right: 50px;" class="idProduct">ID</span>
                    <span style="margin-right: 60px;" class="imgProduct">Hình ảnh</span>
                    <span style="margin-right: 170px;" class="nameProduct">Tên sản phẩm</span>
                    <span class="colorProduct">Màu sắc</span>
                    <span class="countProduct">Số lượng</span>
                    <span class="priceProduct">Đơn giá</span>
                    <span class="statusProduct">Trạng thái</span>
                </div>
                <div id="storage-body"></div>`;
                document.querySelector('.page-right').innerHTML = s ;
                searchSP();   

    });

    QLND.addEventListener('click', () => {
        QLTK.classList.remove('act');
        QLDH.classList.remove('act');
        QLSP.classList.remove('act');
        QLND.classList.add('act');
      });
    
  });

